# Учебный проект Python/Django
## Описание
Проект интернет-магазина
## Задачи
### 22. Знакомство с Django
1. Создание проекта и настройка виртуального окружения
2. Создание и настройка приложения `catalog`
3. Создание шаблонов с использование Bootstrap
4. Реализация контроллеров и маршрутизации
### 23. Работа с ORM в Django
1. Подключить СУБД PostgreSQL для работы в проекте.
2. В приложении каталога создать модели Product и Category
	и описать для них базовые настройки.
3. Перенести отображение моделей в базу данных с помощью миграций.
4. Создать суперпользователя. Зарегистрировать модели Product и Category
	в админке. Настроить отображение для моделей
5. Создать несколько категорий и продуктов с использованием Django shell.
	Выполните несколько запросов.
6. Сформировать фикстуры для моделей Category и Product.
7. Создать кастомную команду для добавления тестовых продуктов.
### 24. Шаблонизация
1. Создать новый контроллер и шаблон для отображения страницы с подробной информацией о товаре.
2. Добавить в шаблон главной страницы код для отображения списка товаров с помощью цикла.
3. Выделить общий (базовый) шаблон, который будет включать общие элементы страницы.
	Также создать подшаблон для главного меню, который можно будет включать в другие шаблоны.
### 25. FBV и CBV
1. Перевести имеющиеся в проекте контроллеры с FBV на CBV.
2. Создать новое приложение для блога и новую модель блоговой записи.
3. Для работы с блогом реализовать полный CRUD для новой модели, используя CBV.
4. Реализовать: 
	* Увеличение счетчика просмотров.
	* Фильтрацию опубликованных статей по признаку публикации.
	* Перенаправление пользователя после редактирования на просмотр этой статьи.
### 26.1 Формы
1. Реализовать механизм CRUD для модели продуктов, используя модуль django.forms.
	Применить валидацию формы, чтобы проверять отсутствие запрещенных слов в полях названия и описания.
2. Добавить кастомную валидацию для поля price, чтобы цена продукта не могла быть отрицательной.
3. Добавьте стилизацию форм.
### 27 Аутентификация в веб-приложениях
1. Создать новое приложение для работы с пользователями.
2. Определить модель пользователя с использованием AbstractUser,
	задав электронную почту как поле для авторизации.
3. Добавить дополнительные поля в модель пользователя:
	* аватар (изображение)
	* номер телефона
	* страна
4. Создать форму для регистрации пользователя с полями электронной почты и пароля.
5. Добавить логику регистрации в представлении, позволяя пользователю создать учетную запись.
6. Реализовать отправку приветственного письма пользователю после регистрации.
7. Настроить форму и представление для авторизации пользователя по электронной почте и паролю.
8. Закрыть доступ к страницам, связанным с управлением продуктами, для анонимных пользователей. 
### 28 Права доступа
1. Создать группу для роли «Модератор продуктов» и настроить необходимые разрешения:
	* Разрешение can_unpublish_product
	* Разрешение на удаление любого продукта.
2. Реализовать решение, которое проверяет, что редактирование и удаление продукта доступно только его владельцу.
	Удалять продукты должен не только владелец, но и модератор.
3. Обновить шаблоны, чтобы кнопка редактирования и удаления отображалась только для владельца продукта.
### 29 Кеширование и бизнес-логика
1. Установить Redis как брокер для кеширования. Настроить проект для использования Redis.
2. Настроить кеширование для страницы, которая отображает информацию об одном продукте.
3. Создать сервисную функцию для работы с продуктами, которая будет возвращать список всех продуктов в указанной категории.
	Реализовать отдельное представление и шаблон для отображения этой информации на сайте.
4. Добавить низкоуровневое кеширование для списка продуктов.
## Линтеры
* `flake8`
* `black`
* `mypy`
* `isort`
* `django-stubs`
* `types-psycopg2`
## Зависимости
* `django`
* `psycopg2-binary`
* `ipython`
* `python-dotenv`
* `pillow`
* `redis`
## Установка
1. Клонировать проект
	```
	<https://github.com/Ramazan-Z/DjangoProject.git>
	```
2. Установить зависимости
	```
	poetry install
	```
3. Создать в корне проекта файл `.env` из  копии `env.example`и прописать в нем:
	* Секретный ключ и флаг дебага проекта
	* Параметры для подключения к базе данных.
	* Данные для регистрации администратора.
	* Данные для регистрации модератора.
	* Данные для регистрации обычного пользователя.
	* Настройки почтового сервера.
	* Настройки для использования Redis.
4. Создать БД, ее структуру и наполнить тестовыми данными
	```
	python manage.py run_test_db
	```
5. Создать тестовых пользователей (админ, модератор, простой пользователь)
	```
	python manage.py add_test_users
	```
## Запуск
```
python manage.py runserver
```